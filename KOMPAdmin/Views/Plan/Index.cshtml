@model IEnumerable<KOMPAdmin.DB.Plan>

@{
    ViewBag.Title = "Plans";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int SrNo = 1;
}

<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Plan's List</h1>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
    <div class="row">
        <p>
            <a href="@Url.Action("Create", "Plan")" class="btn btn-primary"><i class="fa fa-pencil"></i> Create Plan</a>
        </p>
        <table class="table table-bordered">
            <tr>
                <th>
                    Sr No.
                </th>
                <th>
                    Title
                </th>
                <th>
                    Plan Days
                </th>
                <th>
                    Valid For (Days)
                </th>
                <th>
                    Delivery Charges (Rs.)
                </th>
                <th>
                    Discount (Rs.)
                </th>
                <th>
                    Night Delivery Charges (Rs.)
                </th>
                <th>
                    Active
                </th>
                
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
            <tr>
                <td>
                    @SrNo
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DaysInPlan)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ValidUpTo)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DeliveryCharges)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Discount)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NightDeliveryCharges)
                </td>
                <td>
                    @if (item.IsActive == 1)
                    {
                        <span> True</span>
                    }
                    else
                    {
                        <span> False</span>
                    }
                </td>
                
                <td>
                    <a href="@Url.Action("Edit", "Plan",new { id= item.Id })">
                        <i class="fa fa-edit fa-2x"></i>
                    </a>
                </td>
            </tr>
                SrNo++;
            }

        </table>
    </div>
</div>
@section scripts{
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    @if (Convert.ToString(TempData["Message"]) == "I")
    {
        <script type="text/javascript">
            swal({
                title: 'Sucess',
                text: 'Record inserted.',
                timer: 2000,
                icon: 'success',
                button: false
            })
        </script>
    }else if (Convert.ToString(TempData["Message"]) == "U")
    {
            <script type="text/javascript">
            swal({
                title: 'Sucess',
                text: 'Record Updated.',
                timer: 2000,
                icon: 'success',
                button: false
            })
            </script>
    }
}